(()=>{var t;t={api:"./api.php",config:{},params:{},data:{},oauth:{},sites:{},types:{},run_state:{running:!1},batch_update_interval:5e3,init:function(){var t=this,a=3;function e(){--a>0||(t.tt.addILdropdown($("#interface_language_wrapper")),t.updateUserInfo(),t.params=t.getUrlVars(),$("#import_v1_dialog").on("shown.bs.modal",(function(){$("#v1_commands").val("").focus()})),$("#v1_import").click((function(){t.onImportV1(),$("#import_v1_dialog").modal("hide")})),$("#import_csv_dialog").on("shown.bs.modal",(function(){$("#csv_input").val("").focus()})),$("#csv_import").click((function(){t.onImportCSV(),$("#import_csv_dialog").modal("hide")})),$("#main_table").DataTable({ordering:!1,info:!1}),$("#link_import_qs1").click(t.onClickImportV1),$("#link_import_csv").click(t.onClickImportCSV),$("#run").click((function(){return t.run(!1),!1})),$("#run_background").click((function(){return t.run(!0),!1})),$("#stop").click((function(){return t.stop(),!1})),void 0!==t.params.v1&&t.importFromV1(t.params.v1),void 0!==t.params.csv&&t.importFromCSV(t.params.csv),t.updateUnlabeledItems(),"batch"==t.params.mode&&(t.run_state.batch_id=t.params.batch),"batches"==t.params.mode&&(t.run_state.filters={},void 0!==t.params.user&&(t.run_state.filters.user=t.params.user)),t.switchMode(t.params.mode))}t.tt=new ToolTranslation({tool:"quickstatements",language:t.lang(),fallback:"en",callback:function(){e()}}),"/tools/quickstatements"==window.location.pathname.substring(0,22)&&(t.config={site:"wikibase",sites:{wikibase:{api:window.location.protocol+"//"+window.location.host+"/w/api.php",pageBase:window.location.protocol+"//"+window.location.host+"/wiki/",types:{P:{type:"property",ns:122,ns_prefix:"Property:"},Q:{type:"item",ns:120,ns_prefix:"Item:"}}}}}),"localhost:8086"==window.location.host.substring(window.location.host.length-14)&&(t.config={site:"wikibase",sites:{wikibase:{api:window.location.protocol+"//"+window.location.host.substring(0,window.location.host.length-5)+":8083/w/api.php",pageBase:window.location.protocol+"//"+window.location.host.substring(0,window.location.host.length-5)+":8083/wiki/",types:{P:{type:"property",ns:122,ns_prefix:"Property:"},Q:{type:"item",ns:120,ns_prefix:"Item:"}}}}}),t.sites=t.config.sites,t.setSite("wikibase"),t.oauth={is_logged_in:!1},$.post(t.api,{action:"is_logged_in"},"json").then((function(a){t.oauth=a.data})).always(e)},setSite:function(t){var a=this;a.site=t,a.types=a.sites[a.site].types},getSiteAPI:function(){var t=this;return t.sites[t.site].publicApi||t.sites[t.site].api},getSitePageURL:function(t){return this.sites[this.site].pageBase+encodeURIComponent(t.replace(/ /g,"_"))},lang:function(){return"en"},stop:function(){var t=this;t.run_state.running=!1,void 0!==t.run_state.batch_watcher&&clearInterval(t.run_state.batch_watcher),$("#stop_buttons button").prop("disabled",!0),$("#run_buttons button").prop("disabled",!1),$("#stop_buttons").hide()},ts2string:function(t){return t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2)+" "+t.substr(8,2)+":"+t.substr(10,2)+":"+t.substr(12,2)},canUserStopBatch:function(t){var a=this;if(void 0===a.oauth.query)return!1;if(void 0===a.oauth.query.userinfo)return!1;if(a.oauth.query.userinfo.name==t)return!0;if(void 0===a.oauth.query.userinfo.groups)return!1;var e=!1;return $.each(a.oauth.query.userinfo.groups,(function(t,a){"sysop"==a&&(e=!0)})),e},safeHTML:function(t){return t.replace(/</,"&lt").replace(/>/,"&gt").replace(/&/,"&amp;")},getBatchButtons:function(t){var a="",e=t.batch.id;return this.canUserStopBatch(t.batch.user_name)&&(a+="<div>",a+="<button batch='"+e+"' class='stop-batch btn btn-danger btn-lg'","RUN"!=t.batch.status&&(a+=" style='display:none'"),a+=">STOP THIS BATCH RUN NOW!</button>",a+="<button batch='"+e+"' class='start-batch btn btn-success btn-lg'","STOP"!=t.batch.status&&(a+=" style='display:none'"),a+=">(Re-)start this batch</button>",a+="</div>"),a},updateBatchStatus:function(){var t=this;void 0!==t.run_state.batch_id&&($("#single_batch_busy").show(),$.post(t.api,{action:"get_batch_info",batch:t.run_state.batch_id},(function(a){var e=t.run_state.batch_id;$("#single_batch_busy").hide();var n=a.data[e],i="",s=t.getSitePageURL("User:"+n.batch.user_name);""!=n.name&&(i+="<h2>"+t.safeHTML(n.batch.name)+"</h2>"),i+="<p>User: <a href='"+s+"' target='_blank'>"+t.safeHTML(n.batch.user_name)+"</a>",i+=" <small>(<a href='./#mode=batches&user="+encodeURIComponent(n.batch.user_name)+"' onclick='QuickStatements.batchesByUser(\""+encodeURIComponent(n.batch.user_name)+"\");return false'>batches by this user</a>)</small>",i+="</p>",i+="<p>Status: <b>"+n.batch.status+"</b> <small>"+t.safeHTML(n.batch.message)+"</small></p>",i+="<p>Created: "+t.ts2string(n.batch.ts_created)+"</p>",i+="<p>Last change: "+t.ts2string(n.batch.ts_last_change)+"</p>",i+="<table class='table table-condensed table-striped'>",i+="<thead><tr><th>Status</th><th>Count</th></tr></thead><tbody>",$.each(n.commands,(function(t,a){i+="<tr><td>"+t+"</td><td>"+a+"</td></tr>"})),i+="</tbody></table>",i+=t.getBatchButtons(n),$("#single_batch_status").html(i),$("button.stop-batch").click((function(){var a=$(this),e=a.attr("batch");$.post(t.api,{action:"stop_batch",batch:e},(function(t){console.log(t),a.hide(),$('button.start-batch[batch="'+e+'"]').show()}))})),$("button.start-batch").click((function(){var a=$(this),e=a.attr("batch");$.post(t.api,{action:"start_batch",batch:e},(function(t){console.log(t),a.hide(),$('button.stop-batch[batch="'+e+'"]').show()}))}))})))},showBatches:function(){var t=this,a=["mode=batches"];$.each(t.run_state.filters,(function(t,e){a.push(t+"="+encodeURIComponent(e))})),location.hash=a.join("&");var e={action:"get_batches_info"};$.each(t.run_state.filters,(function(t,a){e[t]=a})),$.post(t.api,e,(function(a){var e=[];$.each(a.data,(function(t,a){e.push(a)})),e.sort((function(t,a){return 1*a.batch.ts_last_change-1*t.batch.ts_last_change}));var n="<table class='table table-condensed table-striped'>";n+="<thead><tr><th>#</th><th>User</th><th>Name</th><th>Status</th><th>Last change</th><th>Actions</th></tr></thead>",n+="<tbody>",$.each(e,(function(a,e){var i=e.batch.id,s=t.getSitePageURL("User:"+e.batch.user_name);n+="<tr>",n+="<td><a href='#mode=batch&batch="+i+"'>"+i+"</td>",n+="<td nowrap><a href='"+s+"' target='_blank'>"+t.safeHTML(e.batch.user_name)+"</a></td>",n+="<td>"+t.safeHTML(e.batch.name)+"</td>",n+="<td>",n+="<div>"+t.safeHTML(e.batch.status)+" <small>"+t.safeHTML(e.batch.message)+"</small></div>";var o=[];$.each(e.commands,(function(t,a){o.push(t+":"+a)})),n+="<div style='font-size:9pt'>"+o.sort().join(" | ")+"</div>",n+="</td>",n+="<td nowrap>"+t.ts2string(e.batch.ts_last_change)+"</td>",n+="<td>"+t.getBatchButtons(e)+"</td>",n+="</tr>"})),n+="</tbody></table>",$("#multi_batch_status").html(n)}))},batchesByUser:function(t){this.run_state.filters={user:decodeURIComponent(t)},this.switchMode("batches")},showBatch:function(){var t=this;location.hash="mode=batch&batch="+t.run_state.batch_id,$("#single_batch_number").text(t.run_state.batch_id),t.run_state.batch_watcher=setInterval((function(){t.updateBatchStatus()}),t.batch_update_interval),t.updateBatchStatus()},switchMode:function(t){var a=this;void 0!==t&&(a.mode=t,$("div.mode").hide(),$("#mode_"+t).show(),void 0!==a.run_state.batch_watcher&&clearInterval(a.run_state.batch_watcher),"batch"==t&&a.showBatch(),"batches"==t&&a.showBatches(),"token"==t&&a.getToken())},getToken:function(){var t={action:"get_token"};console.log(t),$.post(this.api,t,(function(t){$("#token").text(t.data.token)}))},runInBackground:function(){var t=this,a="",e=prompt("Enter a name for this batch (optional)","");""!=e&&(a=e),$.post(t.api,{action:"run_batch",name:a,commands:JSON.stringify(t.data.commands)},(function(a){if("OK"!=a.status)return alert(a.status),void console.log(a);t.run_state={running:!0,last_item:"",commands:{pending:0,done:0},batch_id:a.batch_id},t.switchMode("batch")}))},run:function(t){var a=this;a.run_state.running||(void 0!==a.run_state.batch_watcher&&clearInterval(a.run_state.batch_watcher),t?a.runInBackground():(a.run_state={running:!0,last_item:"",commands:{pending:0,done:0}},$("#run_status").text(""),$("#run_status_wrapper").show(),$.each(a.data.commands,(function(t,e){var n=e.status;void 0===n||""==n?n="pending":"done"!=n&&(e.status="",e.message=""),void 0===a.run_state.commands[n]&&(a.run_state.commands[n]=0),a.run_state.commands[n]++})),$("#stop_buttons button").prop("disabled",!1),$("#run_buttons button").prop("disabled",!0),$("#stop_buttons").show(),t||a.runNextCommand()))},runNextCommand:function(){var t=this;if(t.run_state.running){var a;if($.each(t.data.commands,(function(t,e){if(void 0===e.status||""==e.status)return a=t,!1})),void 0===a)return t.stop();t.runSingleCommand(a)}},setCommandStatus:function(t,a){this.data.commands[t].status="running",this.updateCommandRow(t)},updateCommandRow:function(t){var a=this,e=$("#main_table").DataTable(),n=a.data.commands[t],i=a.getCommandRowTabs(t,n,e);e.row(t).data(i).draw(),a.tt.updateInterface(e)},updateRunStatus:function(){var t=[];$.each(this.run_state.commands,(function(a,e){t.push(a+":"+e)}));var a=t.join("; ");$("#run_status").text(a)},runSingleCommand:function(t){var a=this,e=a.data.commands[t];a.setCommandStatus(t,"running"),a.updateRunStatus(),$.post(a.api,{action:"run_single_command",command:JSON.stringify(e),last_item:a.run_state.last_item},(function(e){a.data.commands[t]=e.command,void 0!==e.last_item&&(a.run_state.last_item=e.last_item),a.run_state.commands.pending--,"OK"==e.status?a.run_state.commands.done++:(void 0===a.run_state.commands[e.status]&&(a.run_state.commands[e.status]=0),a.run_state.commands[e.status]++),a.updateRunStatus(),a.updateCommandRow(t),a.runNextCommand()}),"json")},updateUserInfo:function(){var t=this,a="";if(t.oauth.is_logged_in){var e=t.oauth.query.userinfo.name;a="<span tt='welcome' tt1='"+t.htmlSafe(e)+"'></span>",$("#logged_in_actions").show(),$('a[tt="show_your_last_batches"]').show().click((function(){return t.run_state.filters={user:e},t.switchMode("batches"),!1}))}else a+="<a href='"+t.api+"?action=oauth_redirect' target='_blank' tt='login'></a> <span tt='login2'></span>";$("#userinfo").html(a),t.tt.updateInterface($("#userinfo"))},showLastBatches:function(){var a=t;a.run_state.filters={},a.switchMode("batches")},getUrlVars:function(){var t={},a=window.location.href.slice(window.location.href.indexOf("#")+1);a.match(/.3D/)&&(a=a.replace(/\.3D/g,"=").replace(/\.26/g,"&").replace(/\.2F/g,"/"));var e=a.split("&");return $.each(e,(function(a,e){var n=e.split("=");n[1]+="",t[n[0]]=decodeURI(n[1]).replace(/_/g," ")})),t},onClickImportV1:function(){t.switchMode("commands"),$("#import_v1_dialog").modal("show")},onClickImportCSV:function(){t.switchMode("commands"),$("#import_csv_dialog").modal("show")},onImportV1:function(){var t=$("#v1_commands").val();$("#v1_commands").val(""),this.importFromV1(t)},onImportCSV:function(){var t=$("#csv_input").val();$("#csv_input").val(""),this.importFromCSV(t)},updateUnlabeledItems:function(){var t=this,a=[];$("span.update_label").each((function(){var a=$(this);if(""==a.text()){var e=a.attr("tt");a.text(t.tt.t(e))}})),$("a.wd_unlabeled").each((function(){var t=$(this),e=t.attr("pq");if(e.match(/^(?:[PQL]\d+|L\d+-[FS]\d+)$/i))return a.push(e),t.removeClass("wd_unlabeled").addClass("wd_pq").attr({title:e}),!(a.length>=50)&&void 0})),$("a.pq_edit_unlinked").each((function(){var a=$(this);a.removeClass("pq_edit_unlinked"),a.click((function(){return t.onClickEditPQ($(a.parents("div.pq_container").get(0))),!1}))})),a.length>0&&$.getJSON(t.getSiteAPI()+"?action=wbgetentities&ids="+a.join("|")+"&format=json&callback=?",(function(t){$.each(t.entities,(function(t,a){if(void 0===a.missing){var e;if(void 0!==a.labels&&void 0!==a.labels.en&&(e=a.labels.en.value),void 0===e&&void 0!==a.lemmas)for(var n in a.lemmas){e=a.lemmas[n].value;break}if(void 0===e&&void 0!==a.representations)for(var n in a.representations){e=a.representations[n].value;break}void 0===e&&void 0!==a.glosses&&void 0!==a.glosses.en&&(e=a.glosses.en.value),void 0!==e&&$('a.wd_pq[pq="'+t+'"]').removeClass("red").text(e)}else $('a.wd_pq[pq="'+t+'"]').addClass("red")}))})),setTimeout((function(){t.updateUnlabeledItems()}),500)},onClickEditPQ:function(t){var a=this;$("button.cancel").click();var e=t.attr("pq");t.find("div.pq_value").hide(),t.find("div.pq_button").hide();var n=$(t.find("div.pq_value a")).text(),i=$(t.find("div.pq_form")),s="";s+="<div class='pq_typeahead' type='"+a.types[e.substr(0,1).toUpperCase()].type+"' style='width:340px'>",s+="<div>",s+="<form class='form form-inline'>",s+="<input type='text' class='typeahead_input' style='width:250px' value='"+a.htmlSafe(n)+"' pq='"+e+"'/>",s+="<input type='submit' tt_value='set' class='btn btn-primary' />",s+="<button class='cancel btn btn-default' tt='cancel_short'></button>",s+="</form>",s+="</div>",s+="<div><ul style='width:100%;overflow:auto;max-height:200px' class='pq_dropdown'></ul></div>",s+="</div>",i.html(s).show(),a.tt.updateInterface(i),a.addTypeahead($(t.find("div.pq_typeahead"))),$(t.find("form")).submit((function(){return a.onSubmitPQ(t,!0),!1})),$(t.find("button.cancel")).click((function(){return a.onSubmitPQ(t,!1),!1}))},updateRef:function(t,a){if(void 0!==t&&""!=t){var e=JSON.parse(t);if(void 0!==e)if(void 0!==e.cmdnum){for(var n=this.data.commands[e.cmdnum];null!=(m=e.attr.match(/^(.+?)\.(.+)$/));)n=n[m[1]],e.attr=m[2];n[e.attr]=a}else console.log("COUND NOT STORE REF",e,a)}},onSubmitPQ:function(t,a){var e=$(t.find("div.pq_typeahead")),n=$(t.find("input.typeahead_input")),i=n.attr("pq"),s=(n.val(),t.find("div.pq_value"));a&&""!=i&&(this.updateRef(t.attr("ref"),i),s.html(this.renderPQvalue(i)),t.attr({pq:i})),e.html("").hide(),s.show(),t.find("div.pq_button").show()},addTypeahead:function(t){var a=this;a.lastTypeahead="";var e=$(t.find("input.typeahead_input")),n=$(t.find("ul.pq_dropdown"));e.keyup((function(){a.typeAhead(t,e,n)})),e.focus(),a.typeAhead(t,e,n)},typeAhead:function(t,a,e){var n=this,i=t.attr("type"),s=n.lang(),o=a.val();o!=n.lastTypeahead&&(n.lastTypeahead=o,e.html(""),$.getJSON(n.getSiteAPI()+"?callback=?",{action:"wbsearchentities",search:o,language:s,type:i,format:"json"},(function(t){var i="";$.each(t.search,(function(t,a){i+="<li style='cursor:pointer' pq='"+a.title+"'>",i+="<div><b>"+n.htmlSafe(a.label)+"</b> <small>("+a.title+")</small></div>",i+="<div><small>"+n.htmlSafe(a.description||"")+"</small></div>",i+="</li>"})),e.html(i),e.find("li").click((function(){var t=$(this).attr("pq").replace(/^.+:/,""),e=$(a.parents("div.pq_container").get(0));a.attr({pq:t}),n.onSubmitPQ(e,!0)}))})))},importFromV1:function(t){var a=this;t.length<1e3&&(location.hash="v1="+t),$.post(a.api,{action:"import",data:t,format:"v1",persistent:0},(function(t){a.data=t.data,a.setupTableFromCommands()}),"json")},importFromCSV:function(t){var a=this;t.length<1e3&&(location.hash="csv="+t),$.post(a.api,{action:"import",data:t,format:"csv",persistent:0},(function(t){a.data=t.data,a.setupTableFromCommands()}),"json")},renderPQvalue:function(t){var a=this,e="???";if("LAST"==t)e="<i>LAST ITEM</i>";else if(t.match(/^(?:[PQL]\d+|L\d+-[FS]\d+)$/i)){var n=t.substr(0,1).toUpperCase(),i=a.types[n].ns_prefix+t.replace("-","#");e="<a class='wd_unlabeled' pq='"+t+"' href='"+a.getSitePageURL(i)+"' target='_blank'>"+t+"</a> <small>["+t+"]</small>"}else e=a.htmlSafe(t);return e},renderPQ:function(t,a){var e=this;return html="<div class='pq_container' pq='"+e.htmlSafe(t)+"'",void 0!==a?html+=" ref='"+e.htmlSafe(JSON.stringify(a))+"'":console.log("NO PQ REF",t),html+="><div class='pq_value'>"+e.renderPQvalue(t)+"</div>",html+="<div class='pq_button'><a class='pq_edit_unlinked'><img src='https://upload.wikimedia.org/wikipedia/commons/thumb/4/43/PICOL_Edit.svg/16px-PICOL_Edit.svg.png' border=0 /></a></div>",html+="<div class='pq_form'>FORM</div>",html+="</div>",html},htmlSafe:function(t){return void 0===t?"":(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},renderString:function(t,a){var e="";return e+="<div class='string_container'",void 0!==a&&(e+=" ref='"+this.htmlSafe(JSON.stringify(a))+"'"),e+=">",(e+=this.htmlSafe(t))+"</div>"},renderTime:function(t,a){var e="";return e+="<div class='time_container'",void 0!==a&&(e+=" ref='"+this.htmlSafe(JSON.stringify(a))+"'"),e+=">",(e+=t.time+"/"+t.precision)+"</div>"},renderCoordinate:function(t,a){var e="";return e+="<div class='coordinate_container'",void 0!==a&&(e+=" ref='"+this.htmlSafe(JSON.stringify(a))+"'"),e+=">",(e+=t.latitude+"/"+t.longitude)+"</div>"},renderQuantity:function(t,a){var e=this,n="";n+="<div class='quantity_container'",void 0!==a&&(n+=" ref='"+e.htmlSafe(JSON.stringify(a))+"'"),n+=">",n+=e.htmlSafe(t.amount);var i="";return void 0!==t.lowerBound&&1*t.amount!=1*t.lowerBound&&(i+=e.htmlSafe(t.lowerBound)+"&ndash;"),void 0!==t.upperBound&&1*t.amount!=1*t.upperBound&&(i+="&ndash;"+e.htmlSafe(t.upperBound)),""!=(i=i.replace(/(&ndash;)+/,"&ndash;"))&&(n+="&nbsp;("+i+")"),n+"</div>"},renderMonolingualtext:function(t,a){var e=this,n="";return n+="<div class='monolingualtext_container'",void 0!==a&&(n+=" ref='"+e.htmlSafe(JSON.stringify(a))+"'"),n+=">",(n+=e.htmlSafe(t.language)+": "+e.htmlSafe(t.text))+"</div>"},renderValue:function(t,a){var e=this;return void 0===t.type?"<i>"+JSON.stringify(t)+"</i>":"novalue"==t.type||"somevalue"==t.type?"<i>"+t.type+"</i>":"wikibase-entityid"==t.type?(a.attr+=".value.id",e.renderPQ(t.value.id,a)):"string"==t.type?e.renderString(t.value,a):"time"==t.type?e.renderTime(t.value,a):"globecoordinate"==t.type?e.renderCoordinate(t.value,a):"quantity"==t.type?e.renderQuantity(t.value,a):"monolingualtext"==t.type?e.renderMonolingualtext(t.value,a):"<i>"+JSON.stringify(t)+"</i>"},renderAction:function(t){var a=t.action.toUpperCase();return void 0!==t.what&&"statement"!=t.what&&(a+=" "+t.what.toUpperCase()),a},renderQualifier:function(t,a){var e="";return a.attr="qualifier.prop",e+="<div>"+this.renderPQ(t.prop,a)+"</div>",a.attr="qualifier.value",e+"<div>"+this.renderValue(t.value,a)+"</div>"},renderSources:function(t,a){var e=this,n="";return $.each(t,(function(t,i){t>0&&(n+="<hr/>"),a.attr="sources."+t+".prop",n+="<div>"+e.renderPQ(i.prop,a)+"</div>",a.attr="sources."+t+".value",n+="<div>"+e.renderValue(i.value,a)+"</div>"})),n},wrapStatusAlert:function(t,a,e){var n='<div class="alert alert-'+a+'" style="padding:2px;margin:0px" role="alert"';return void 0!==e&&""!=e&&(n+=' title="'+this.htmlSafe(e)+'"',t+=" <sup>*</sup>"),n+">"+t+"</div>"},renderStatus:function(t){var a=this;if(void 0===t.status||""==t.status)return a.wrapStatusAlert("<span tt='pending' class='update_label'></span>","info",t.message);var e=a.htmlSafe(t.status);return"done"==e?a.wrapStatusAlert(e,"success",t.message):"error"==e?a.wrapStatusAlert(e,"danger",t.message):a.wrapStatusAlert(e,"warning",t.message)},getCommandRowTabs:function(t,a,e){var n=this,i=["",'<span tt="unknown_command"></span>',"","","",""];return i[0]=n.renderStatus(a),"add"!=a.action&&"remove"!=a.action||"statement"!=a.what&&"qualifier"!=a.what&&"sources"!=a.what?"add"!=a.action&&"remove"!=a.action||"label"!=a.what&&"description"!=a.what&&"alias"!=a.what&&"sitelink"!=a.what?"create"==a.action?(i[1]=n.renderAction(a),i[2]=a.type):i[5]=JSON.stringify(a):(i[1]=n.renderAction(a),i[2]=n.renderPQ(a.item,{cmdnum:t,attr:"item"}),"sitelink"==a.what?i[3]=n.renderString(a.site,{cmdnum:t,attr:"site"}):i[3]=n.renderString(a.language,{cmdnum:t,attr:"language"}),i[4]=n.renderString(a.value,{cmdnum:t,attr:"value"})):(i[1]=n.renderAction(a),i[2]=n.renderPQ(a.item,{cmdnum:t,attr:"item"}),i[3]=n.renderPQ(a.property,{cmdnum:t,attr:"property"}),i[4]=n.renderValue(a.datavalue,{cmdnum:t,attr:"datavalue"}),"qualifier"==a.what&&(i[5]=n.renderQualifier(a.qualifier,{cmdnum:t})),"sources"==a.what&&(i[5]=n.renderSources(a.sources,{cmdnum:t}))),i},addCommandToTable:function(t,a,e){var n=this.getCommandRowTabs(t,a,e);e.row.add(n)},setupTableFromCommands:function(){var t=this,a=$("#main_table").DataTable();$.each(t.data.commands,(function(e,n){t.addCommandToTable(e,n,a)})),a.draw(!1),t.tt.updateInterface(a)},fin:""},$(document).ready((function(){t.init()})),(()=>{"use strict";let t,a,e=new WikiData,n={};$(document).ready((function(){vue_components.toolname="quickstatements",Promise.all([vue_components.loadComponents(["wd-date","wd-link","tool-translate","tool-navbar","commons-thumbnail","vue_components/batch_access_mixin.html","vue_components/user.html","vue_components/main-page.html","vue_components/command.html","vue_components/batch-commands.html","vue_components/batch.html","vue_components/batches.html","vue_components/user-page.html"]),new Promise((function(t,a){"/tools/quickstatements"==window.location.pathname.substring(0,22)&&(n={site:"wikibase",sites:{wikibase:{api:window.location.protocol+"//"+window.location.host+"/w/api.php",pageBase:window.location.protocol+"//"+window.location.host+"/wiki/",types:{P:{type:"property",ns:122,ns_prefix:"Property:"},Q:{type:"item",ns:120,ns_prefix:"Item:"}}}}}),"localhost:8086"==window.location.host.substring(window.location.host.length-14)&&(n={site:"wikibase",sites:{wikibase:{api:window.location.protocol+"//"+window.location.host.substring(0,window.location.host.length-5)+":8083/w/api.php",pageBase:window.location.protocol+"//"+window.location.host.substring(0,window.location.host.length-5)+":8083/wiki/",types:{P:{type:"property",ns:122,ns_prefix:"Property:"},Q:{type:"item",ns:120,ns_prefix:"Item:"}}}}}),t()}))]).then((()=>{const i=n.sites[n.site],s=i.publicApi||i.api;for(var o in wd_link_base=i.pageBase,wd_link_wd=e,e.api=s+"?callback=?",wd_ns_prefixes={},i.types)wd_ns_prefixes[o]=i.types[o].ns_prefix;const r=[{path:"/",component:MainPage,props:!0},{path:"/batches",component:BatchesPage,props:!0},{path:"/batches/:user_name",component:BatchesPage,props:!0},{path:"/batch",component:BatchPage,props:!0},{path:"/batch/:batch",component:BatchPage,props:!0},{path:"/user",component:UserPage,props:!0},{path:"/user/:given_user_name",component:UserPage,props:!0},{path:"/:url_params",component:MainPage,props:!0}];t=new VueRouter({routes:r}),a=new Vue({router:t}).$mount("#app")}))}))})()})();